as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = TRUE
)
paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
index <- list()
for(i in 1:16){
index[i] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = TRUE
)
)
)
}
paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
)
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
)
grepl((?=.*Room T)(?=.*4 min)(?=.*A), rownames(datat),perl  = TURE)
grepl((?=.*Room T)(?=.*4 min)(?=.*A), rownames(datat),perl  = TRUE
)
grepl((?=.*Room T)(?=.*4 min)(?=.*A), rownames(datat),perl  = TRUE
)
grepl('(?=.*Room T)(?=.*4 min)(?=.*A)', rownames(datat),perl  = TRUE
)
grepl("(?=.*Room T)(?=.*2 min)(?=.*A)", rownames(datat), perl = TRUE)
grepl("(?=.*Room T)(?=.*4 min)(?=.*A)", rownames(datat), perl = TRUE)
View(datat)
View(searchGrid)
grepl("(?=.*Room T)(?=.*2 min)(?=.*A)", rownames(datat), perl = TRUE)
paste0('(?=.*',
as.character(searchGrid[1,1]),
')(?=.*',
as.character(searchGrid[1,2]),
')(?=.*',
as.character(searchGrid[1,3]),
')'
)
grepl(paste0('(?=.*',
as.character(searchGrid[1,1]),
')(?=.*',
as.character(searchGrid[1,2]),
')(?=.*',
as.character(searchGrid[1,3]),
')'
) , rownames(datat), perl = T)
which(grepl(paste0('(?=.*',
as.character(searchGrid[1,1]),
')(?=.*',
as.character(searchGrid[1,2]),
')(?=.*',
as.character(searchGrid[1,3]),
')'
) , rownames(datat), perl = T))
index <- list(16)
index
?list
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[1,1]),
')(?=.*',
as.character(searchGrid[1,2]),
')(?=.*',
as.character(searchGrid[1,3]),
')'
) , rownames(datat), perl = T))
)
}
index
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
}
index
paste0('(?=.*',
as.character(searchGrid[3,1]),
')(?=.*',
as.character(searchGrid[3,2]),
')(?=.*',
as.character(searchGrid[3,3]),
')'
)
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
}
index
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
dim(prom)
nombres <- list.files(, pattern = 'CSV')
nombres
48/3
data <- lapply(nombres, read.csv, header = FALSE)
str(data[[1]])
wavenumber <- data[[1]][,1]
data2 <- lapply(data, '[', 2)
data2 <- as.data.frame(data2)
str(data2)
names(data2) <- nombres
datat <- t(data2)
colnames(datat) <- wavenumber
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
}
index
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
prom[i,] <- mean(datat[index[[i]][1],],
datat[index[[i]][2],],
datat[index[[i]][3],]
)
}
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
#
# prom[i,] <- mean(datat[index[[i]][1],],
#                  datat[index[[i]][2],],
#                  datat[index[[i]][3],]
#                        )
}
INDEX[[1]][1]
index[[1]][1]
index[[1]][2]
index[[1]][3]
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
prom[i,] <- mean(c(datat[index[[i]][1],],
datat[index[[i]][2],],
datat[index[[i]][3],]
) )
}
View(prom)
View(prom)
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
prom[i,] <- mean(c(datat[index[[i]][1],],
datat[index[[i]][2],],
datat[index[[i]][3],]
) )
}
rownames(prom) <- rownames.prom
View(prom)
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
prom[i,] <- mean(c(datat[index[[i]][1],],
datat[index[[i]][2],],
datat[index[[i]][3],]
) )
}
rownames(prom) <- rownames.prom
colnames(prom) <- wavenumber
data2 <- as.data.frame(data2)
dim(data2)
names(data2) <- nombres
for(i in 1:length(rownames(prom))){
plot(wavenumber,
prom[i,],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400))
}
?mean
datat[index[[1]][1],]
datat[index[[1]][2],]
plot(wavenumber,
datat[index[[1]][2],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400))
for(i in 1:length(rownames(prom))){
plot(wavenumber,
datat[index[[1]][1],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400))
}
plot(wavenumber,
datat[index[[1]][1],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400))
plot(wavenumber,
datat[index[[1]][2],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400))
plot(wavenumber,
datat[index[[1]][2],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
type = 'l')
for(i in 1:length(rownames(prom))){
plot(wavenumber,
datat[index[[1]][3],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
type = 'l')
}
plot(wavenumber,
datat[index[[1]][3],],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
type = 'l')
for(i in 1:length(rownames(prom))){
plot(wavenumber,
mean(c(datat[index[[1]][1],],
datat[index[[1]][2],],
datat[index[[1]][3],]
) ),
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
type = 'l')
}
mean(c(datat[index[[1]][1],],
datat[index[[1]][2],],
datat[index[[1]][3],]
) )
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
for(j in 1:length(colnames(datat))){
prom[i,] <- mean(c(datat[index[[i]][1],j],
datat[index[[i]][2],j],
datat[index[[i]][3],j]
) )
}
}
rownames(prom) <- rownames.prom
colnames(prom) <- wavenumber
View(prom)
set.seed(0)
searchGrid <-  expand.grid(Temperature = c('Room T','50C'),
Time = c('2 min', '4 min' , '6 min', '8 min'),
Treatment =c('A','B'))
rownames.prom <- character(16)
for (i in 1:16){
rownames.prom[i] <- paste(searchGrid[i,1],searchGrid[i,2],searchGrid[i,3])
}
prom <- matrix(,
ncol= ncol(datat),
nrow = nrow(datat)/3)
index <- vector('list',16)
for(i in 1:16){
index[[i]] <- c(which(grepl(paste0('(?=.*',
as.character(searchGrid[i,1]),
')(?=.*',
as.character(searchGrid[i,2]),
')(?=.*',
as.character(searchGrid[i,3]),
')'
) , rownames(datat), perl = T))
)
for(j in 1:length(colnames(datat))){
prom[i,j] <- mean(c(datat[index[[i]][1],j],
datat[index[[i]][2],j],
datat[index[[i]][3],j]
) )
}
}
rownames(prom) <- rownames.prom
colnames(prom) <- wavenumber
View(prom)
for(i in 1:length(rownames(prom))){
plot(wavenumber,
prom[i,],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
type = 'l')
}
for(i in 1:length(rownames(prom))){
plot(wavenumber,
prom[i,],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
ylim = c(0,0.05)
type = 'l')
for(i in 1:length(rownames(prom))){
plot(wavenumber,
prom[i,],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
ylim = c(0,0.05),
type = 'l')
par(new = T)
}
for(i in 1:length(rownames(prom))){
plot(wavenumber,
prom[i,],
xlab = 'wave number cm-1',
ylab = 'absorbance a.u.',
xlim = c(4000,400),
ylim = c(0,0.1),
type = 'l')
par(new = T)
}
write.table('promedios2.txt',prom , sep = '\t', header = T)
write.table('promedios2.txt',prom , sep = '\t')
class(prom)
?write.table
write.table(prom,'promedios2.txt', sep = '\t')
